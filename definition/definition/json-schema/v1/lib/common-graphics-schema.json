{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "$id": "http://127.0.0.1:8084/json-schema/v1/lib/common-graphics-schema.json",
    "type": "object",
    "properties": {
        "$schema": {
            "type": "string",
            "const": "http://127.0.0.1:8084/json-schema/v1/graphics-manifest/schema.json",
            "description": "Reference to the JSON-schema for this manifest"
        },
        "id": {
            "type": "string",
            "description": "The id of the Graphic uniquely identifies it. It is recommended to use a reverse domain name notation. For example: com.superflytv.my-lowerthird."
        },
        "version": {
            "type": "integer",
            "description": "The version of the Graphic. The id-version combination must be globally unique and once a version has been assigned, the Graphic is considered immutable (expect when version = 0)."
        },
        "main": {
            "type": "string",
            "description": "The main entry point, ie the path to the main javascript file of the Graphic. If not set, defaults to 'graphic.mjs'."
        },
        "name": {
            "type": "string",
            "description": "Name of the Graphic"
        },
        "description": {
            "type": "string",
            "description": "(optional) A longer description of the Graphic"
        },
        "author": {
            "type": "object",
            "description": "(optional) About the author",
            "properties": {
                "name": {
                    "type": "string",
                    "description": "Name of the author"
                },
                "email": {
                    "type": "string",
                    "description": "(optional) Email of the author"
                },
                "url": {
                    "type": "string",
                    "description": "(optional) URL of the author"
                }
            },
            "required": [
                "name"
            ],
            "patternProperties": {
                "^v_.*": {}
            },
            "additionalProperties": false
        },
        "actions": {
            "type": "object",
            "description": "Custom Actions that can be invoked on the Graphic.",
            "additionalProperties": true
        },
        "rendering": {
            "allOf": [
                {
                    "type": "object",
                    "description": "Properties of the Graphic related to the Renderer",
                    "properties": {
                        "supportsRealTime": {
                            "type": "boolean",
                            "description": "Indicates if the Graphic supports real-time rendering"
                        },
                        "supportsNonRealTime": {
                            "type": "boolean",
                            "description": "Indicates if the Graphic supports non-real-time rendering. Note: If true, the Graphic must implement the 'goToTime()' and the 'setInvokeActionsSchedule()' methods."
                        },
                        "isExtensibleGraphic": {
                            "type": "boolean",
                            "description": "Indicates if the Graphic is a Standard Graphic or an Extensible Graphic. A Standard Graphic must use certain Actions, see the Documentation."
                        },
                        "stepCount": {
                            "type": "number",
                            "description": "The number of steps in the Graphic. If the Graphic is simply triggered by a play, then a stop, this is considered a stepCount of 1."
                        }
                    },
                    "patternProperties": {
                        "^v_.*": {}
                    },
                    "additionalProperties": false
                },
                {
                    "anyOf": [
                        {
                            "type": "object",
                            "properties": {
                                "supportsRealTime": {
                                    "const": true
                                }
                            },
                            "required": [
                                "supportsRealTime"
                            ]
                        },
                        {
                            "type": "object",
                            "properties": {
                                "supportsNonRealTime": {
                                    "const": true
                                }
                            },
                            "required": [
                                "supportsNonRealTime"
                            ]
                        }
                    ]
                }
            ]
        },
        "schema": {
            "type": "object",
            "description": "The schema is used by a Standard Graphic to define the data payload of the 'play' or 'update' action."
        }
    },
    "required": [
        "$schema",
        "id",
        "version",
        "name",
        "actions",
        "rendering"
    ],
    "patternProperties": {
        "^v_.*": {}
    },
    "additionalProperties": false
}
